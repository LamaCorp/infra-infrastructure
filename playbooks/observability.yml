#!/usr/bin/env ansible-playbook
---
- name: Base
  import_playbook: base.yml

- name: Common prometheus exporters
  hosts: all
  roles:
    - name: prometheus.prometheus.node_exporter
      tags:
        - node_exporter
    - name: node_exporter_textfile_collector_scripts
      tags:
        - node_exporter
    - name: nftables_exporter
      tags: nftables_exporter
    - name: prometheus.prometheus.chrony_exporter
      tags:
        - chrony_exporter
  tags:
    - observability
    - exporters

- name: Promtail
  hosts: all
  roles:
    - patrickjahns.promtail
  tags:
    - observability
    - promtail
